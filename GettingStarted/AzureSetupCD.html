
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.1">
    
    
      
        <title>Continuous Delivery - ROS on Windows</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f72e892.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#continuous-delivery" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="ROS on Windows" class="md-header-nav__button md-logo" aria-label="ROS on Windows">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ROS on Windows
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Continuous Delivery
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ms-iot/rosonwindows/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ROS on Windows" class="md-nav__button md-logo" aria-label="ROS on Windows">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ROS on Windows
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ms-iot/rosonwindows/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../WhatsNew.html" title="What's New" class="md-nav__link">
      What's New
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Build/status.html" title="Build Status" class="md-nav__link">
      Build Status
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Get ROS
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Get ROS" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Get ROS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="Setup.html" title="ROS 1" class="md-nav__link">
      ROS 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="SetupRos2.html" title="ROS 2" class="md-nav__link">
      ROS 2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Using ROS
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Using ROS" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Using ROS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="NewToROS.html" title="For new ROS Users" class="md-nav__link">
      For new ROS Users
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Getting Started with ROS 1
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Getting Started with ROS 1" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Getting Started with ROS 1
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="http://wiki.ros.org/ROS/Tutorials" title="Tutorials at ROS Wiki ðŸ”—" class="md-nav__link">
      Tutorials at ROS Wiki ðŸ”—
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Moveit/moveit_tutorials.html" title="MoveIt" class="md-nav__link">
      MoveIt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Moveit/UR3.html" title="Universal Robot UR3" class="md-nav__link">
      Universal Robot UR3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Turtlebot/Turtlebot3.html" title="TurtleBot3" class="md-nav__link">
      TurtleBot3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/sick_s300/getting_started.html" title="SICK S300" class="md-nav__link">
      SICK S300
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/ethercat/soem.html" title="Simple Open EtherCAT Master" class="md-nav__link">
      Simple Open EtherCAT Master
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/peak/peak.html" title="PEAK-SystemÂ® PCANÂ®-Basic" class="md-nav__link">
      PEAK-System&reg; PCAN&reg;-Basic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Getting Started with ROS 2
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Getting Started with ROS 2" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Getting Started with ROS 2
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ros2/nav2.html" title="Navigation 2" class="md-nav__link">
      Navigation 2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Using Github Actions
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Using Github Actions" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        Using Github Actions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="GithubSetupCI.html" title="Continuous Integration" class="md-nav__link">
      Continuous Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="GithubSetupCD.html" title="Continuous Delivery" class="md-nav__link">
      Continuous Delivery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="GithubSetupCS_Windows.html" title="Continuous Simulation (Windows)" class="md-nav__link">
      Continuous Simulation (Windows)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="GithubSetupCS_Linux.html" title="Continuous Simulation (Linux)" class="md-nav__link">
      Continuous Simulation (Linux)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="GithubSetupCS_Windows_Nav2.html" title="Continuous Simulation for Navigation2 System Tests" class="md-nav__link">
      Continuous Simulation for Navigation2 System Tests
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      Using Azure Pipelines
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Using Azure Pipelines" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon"></span>
        Using Azure Pipelines
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="AzureSetupCI.html" title="Continuous Integration" class="md-nav__link">
      Continuous Integration
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Continuous Delivery
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="AzureSetupCD.html" title="Continuous Delivery" class="md-nav__link md-nav__link--active">
      Continuous Delivery
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sign-up-to-publish-packages" class="md-nav__link">
    Sign up to Publish packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-collateral" class="md-nav__link">
    Packaging collateral
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crafting-a-mypackagenuspec-file" class="md-nav__link">
    Crafting a MyPackage.nuspec file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-install-scripts" class="md-nav__link">
    Adding install scripts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-the-build-script" class="md-nav__link">
    Adding the build script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-the-package" class="md-nav__link">
    Testing the package
  </a>
  
    <nav class="md-nav" aria-label="Testing the package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#package" class="md-nav__link">
    Package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manually-publish-a-chocolatey-package" class="md-nav__link">
    Manually Publish a chocolatey package
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="AzureSetupCS_Windows.html" title="Continuous Simulation (Windows)" class="md-nav__link">
      Continuous Simulation (Windows)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="AzureSetupCS_Linux.html" title="Continuous Simulation (Linux)" class="md-nav__link">
      Continuous Simulation (Linux)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ros2/system_tests.html" title="Continuous Simulation for Navigation2 System Tests" class="md-nav__link">
      Continuous Simulation for Navigation2 System Tests
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Porting Guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Porting Guide" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon"></span>
        Porting Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="UsingROSonWindows.html" title="Consuming a ROS Package" class="md-nav__link">
      Consuming a ROS Package
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="PortingANode.html" title="Porting a ROS Package" class="md-nav__link">
      Porting a ROS Package
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="UsingVCPKG.html" title="Using a C++ Dependency" class="md-nav__link">
      Using a C++ Dependency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="AddingVCPKG.html" title="Porting a C++ Dependency" class="md-nav__link">
      Porting a C++ Dependency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Porting/Cookbook.html" title="Porting Cookbook" class="md-nav__link">
      Porting Cookbook
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      ROS at Microsoft
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="ROS at Microsoft" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon"></span>
        ROS at Microsoft
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ROSAtMS/AzureVM.html" title="Azure VM with ROS" class="md-nav__link">
      Azure VM with ROS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ROSAtMS/WinML.html" title="Windows ML ROS Node" class="md-nav__link">
      Windows ML ROS Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/microsoft/azure_kinect_ros_driver" title="Azure Kinect ROS Node ðŸ”—" class="md-nav__link">
      Azure Kinect ROS Node ðŸ”—
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/microsoft/ros_azure_iothub" title="Azure IoT Hub Node ðŸ”—" class="md-nav__link">
      Azure IoT Hub Node ðŸ”—
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://aka.ms/ros/vscode" title="Visual Studio Code ROS Extension ðŸ”—" class="md-nav__link">
      Visual Studio Code ROS Extension ðŸ”—
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Advanced
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon"></span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Build/source.html" title="Source Installation" class="md-nav__link">
      Source Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Advanced/Performance.html" title="Optimizing Performance" class="md-nav__link">
      Optimizing Performance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/ms-iot/msix_ros" title="ROS on MSIX Packaging ðŸ”—" class="md-nav__link">
      ROS on MSIX Packaging ðŸ”—
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Support
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Support" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        <span class="md-nav__icon md-icon"></span>
        Support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="Troubleshooting.html" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/ms-iot/rosonwindows/issues" title="Create Issue" class="md-nav__link">
      Create Issue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://aka.ms/ros/support" title="Paid Support" class="md-nav__link">
      Paid Support
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sign-up-to-publish-packages" class="md-nav__link">
    Sign up to Publish packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-collateral" class="md-nav__link">
    Packaging collateral
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crafting-a-mypackagenuspec-file" class="md-nav__link">
    Crafting a MyPackage.nuspec file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-install-scripts" class="md-nav__link">
    Adding install scripts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-the-build-script" class="md-nav__link">
    Adding the build script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-the-package" class="md-nav__link">
    Testing the package
  </a>
  
    <nav class="md-nav" aria-label="Testing the package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#package" class="md-nav__link">
    Package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manually-publish-a-chocolatey-package" class="md-nav__link">
    Manually Publish a chocolatey package
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ms-iot/rosonwindows/edit/master/docs/GettingStarted/AzureSetupCD.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="continuous-delivery">Continuous Delivery</h1>
<p>Once your ROS package is built, it needs to be deployed to customers. ROS on Windows leverages the Chocolatey Package manager for Delivery.</p>
<p>Chocolatey is an Open Source package manager for Windows, with a command line interface. Chocolatey packages are zip files which contain a descriptor - based on the Nuget Library manager. Once created, Packages are published to the Chocolatey package registry. </p>
<h2 id="sign-up-to-publish-packages">Sign up to Publish packages</h2>
<p>Before you can publish packages, you need to acquire an API key from Chocolatey.
To acquire an API key, you need to <a href="https://chocolatey.org/account/Register">register for an account</a>. Once you've registered for an account, you'll be assigned an API key, which you can assign to your local chocolatey install - and later as a Pipeline Secret.</p>
<p>You can associate the API Key with your chocolatey command line tool to publish with the following command line:
<div class="highlight"><pre><span></span><code>choco apikey --key xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxxxxxx --source https://push.chocolatey.org/
</code></pre></div></p>
<h2 id="packaging-collateral">Packaging collateral</h2>
<p>To build a chocolatey package, the following files and structure is recommended in your repository. The files will be described later.</p>
<ul>
<li>Repository Root<ul>
<li><code>package</code><ul>
<li><code>MyPackage.nuspec</code></li>
<li><code>build.bat</code></li>
<li><code>chocolateyInstall_template.ps1</code></li>
<li><code>tools</code><ul>
<li><code>rosdepInstall.bat</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="crafting-a-mypackagenuspec-file">Crafting a <code>MyPackage.nuspec</code> file</h2>
<p>A Chocolatey package includes a xml descriptor of the package. Create a file in the <code>package</code> folder named after your ROS package, with the code contents of <a href="choco_template.html">template.nuspec</a>.</p>
<p>For example, if your ROS package is called MyCoolRobot, the file should be called <code>MyCoolRobot.nuspec</code></p>
<p>Modify the properties of the XML file based on your specific requirements. For example:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;package</span> <span class="na">xmlns=</span><span class="s">&quot;http://schemas.microsoft.com/packaging/2010/07/nuspec.xsd&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;metadata&gt;</span>
    <span class="nt">&lt;id&gt;</span>MyCoolRobot<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.0.0<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;title&gt;</span>MyCoolRobot ROS package<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;authors&gt;</span>Malcom Reynolds<span class="nt">&lt;/authors&gt;</span>
    <span class="nt">&lt;licenseUrl&gt;</span>http://www.github.com/ContosoRobotics/MyCoolRobot/License.txt<span class="nt">&lt;/licenseUrl&gt;</span>
    <span class="nt">&lt;projectUrl&gt;</span>http://www.github.com/ContosoRobotics/MyCoolRobot<span class="nt">&lt;/projectUrl&gt;</span>
    <span class="nt">&lt;requireLicenseAcceptance&gt;</span>false<span class="nt">&lt;/requireLicenseAcceptance&gt;</span>
    <span class="nt">&lt;description&gt;</span>MyCoolRobot for ROS on Windows.<span class="nt">&lt;/description&gt;</span>
    <span class="nt">&lt;summary&gt;</span>MyCoolRobot packaged as a rosdep.<span class="nt">&lt;/summary&gt;</span>
    <span class="nt">&lt;tags&gt;</span>ros MyCoolRobot<span class="nt">&lt;/tags&gt;</span>
    <span class="nt">&lt;packageSourceUrl&gt;</span>http://www.github.com/ContosoRobotics/MyCoolRobot<span class="nt">&lt;/packageSourceUrl&gt;</span>
    <span class="nt">&lt;docsUrl&gt;</span>http://www.github.com/ContosoRobotics/MyCoolRobot/Docs<span class="nt">&lt;/docsUrl&gt;</span>
  <span class="nt">&lt;/metadata&gt;</span>
<span class="nt">&lt;/package&gt;</span>
</code></pre></div>

<h2 id="adding-install-scripts">Adding install scripts</h2>
<p>Create these files in the tools folder, and add the code contents of each. You can use these directly, or customize them for your project. Examples of customization include custom dependencies (like fetching and installing external Msi files).</p>
<ul>
<li><a href="chocolateyInstall_template.html">chocolateyInstall_template.ps1</a></li>
<li>tools<ul>
<li><a href="rosdepInstall.html">rosdepInstall.bat</a></li>
</ul>
</li>
</ul>
<h2 id="adding-the-build-script">Adding the build script</h2>
<p>In the root of the package folder, add a file with the code contents of <a href="choco_build.html">build.bat</a>. Replace <code>&lt;ros package&gt;</code> with the name of your nuspec from above.</p>
<h2 id="testing-the-package">Testing the package</h2>
<p>In later states, the pipelines will generate a zip file containing the output of your ROS package. </p>
<p>To simulate archive generation for testing, in your terminal window, change directory into the workspace containing your package, then build with install target.</p>
<p>Install 7zip using Chocolatey (You only need to do this the first time you try to build a package).</p>
<div class="highlight"><pre><span></span><code>choco install 7zip
</code></pre></div>

<p><strong>Catkin</strong>
<div class="highlight"><pre><span></span><code>catkin_make install -DCATKIN_BUILD_BINARY_PACKAGE=ON
</code></pre></div></p>
<p><strong>Colcon</strong></p>
<p><em>Coming Soon</em></p>
<h3 id="package">Package</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">cd</span> install
7z a -tzip ..\src\<span class="p">&lt;</span>ros package<span class="p">&gt;</span>\package\tools\drop.zip *
<span class="k">cd</span> ..\src\<span class="p">&lt;</span>ros package<span class="p">&gt;</span>\package
build.bat
</code></pre></div>
If this command succeeds, you will have two nupkg files - one for pre-release in <code>output-pre</code>, and one release package in <code>output</code>.</p>
<p>Install using the following command:
<div class="highlight"><pre><span></span><code>choco install output-pre\<span class="p">&lt;</span>ros package<span class="p">&gt;</span>.1.0.0.nupkg
</code></pre></div></p>
<p><strong>Troubleshoot</strong>
If the package fails to install correctly, the nupkg is a zip file. You can expand the zip file and examine the contents. Verify that names are spelled correctly and that the contents match. Once you find the error, you can recreate the package using build.bat, and reinstall using:</p>
<div class="highlight"><pre><span></span><code>choco install output-pre\<span class="p">&lt;</span>ros package<span class="p">&gt;</span>.1.0.0.nupkg --force
</code></pre></div>

<blockquote>
<p>NOTE: Chocolatey will remove the root folder of a zip based chocolatey package - which potentially includes other zip based packages. We recommend not uninstalling a chocolatey package for this reason.</p>
</blockquote>
<h2 id="manually-publish-a-chocolatey-package">Manually Publish a chocolatey package</h2>
<div class="highlight"><pre><span></span><code>choco push MyPackage.1.0.0.nupkg --source https://push.chocolatey.org/
</code></pre></div>

<h1 id="automatically-generate-chocolatey-package-during-ci">Automatically generate chocolatey package during CI</h1>
<p>Once you've crafted your nuspec and tested the installation, you can generate the chocolatey package during CI and publish it as a release. </p>
<h2 id="using-azuredevops-ci">Using AzureDevOps CI</h2>
<p>If a file called <code>build.bat</code> is detected in the package directory of the repository, the pipeline will execute it. The chocolatey package will be generated and an artifact will be published.</p>
<p>The artifact can be downloaded by navigating to the build results and selecting the artifacts option under <code>Related</code>. The text for the option will be similar to <code>1 published; 1 consumed</code>.</p>
<h3 id="updating-chocolatey-rosdep-mappings">Updating Chocolatey rosdep mappings</h3>
<p>Once your chocolatey package has been published, <code>rosdep</code> needs to be informed of how to find it. <code>rosdep</code> enumerates entries in <code>package.xml</code>, then uses a yaml mapping file to locate the package. </p>
<p>To update that mapping file, please follow these steps:</p>
<ul>
<li>Fork <a href="https://github.com/ms-iot/rosdistro-db">https://github.com/ms-iot/rosdistro-db</a> &nearr; into your github account</li>
<li>Create a file called <code>0-update.list</code> in <code>c:\opt\ros\melodic\x64\etc\ros\rosdep\sources.list.d</code></li>
<li>In this file, add a line which points to your fork:
<div class="highlight"><pre><span></span><code># os-specific listings first
yaml https://raw.githubusercontent.com/<span class="p">&lt;</span>your github<span class="p">&gt;</span>/rosdistro-db/init_windows/rosdep/win-chocolatey.yaml windows
yaml https://raw.githubusercontent.com/<span class="p">&lt;</span>your github<span class="p">&gt;</span>/rosdistro-db/init_windows/rosdep/vcpkg.yaml windows
</code></pre></div></li>
<li>Add a mapping from the dependency name used in the ROS package</li>
</ul>
<p><code>Python</code>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span>python-package-name<span class="p">&gt;</span>:
    windows:
      pip:
        packages: [<span class="p">&lt;</span>python-package-name-in-pip<span class="p">&gt;</span>]
</code></pre></div>
  <code>C++</code>
<div class="highlight"><pre><span></span><code>  <span class="p">&lt;</span>package-name<span class="p">&gt;</span>:
    windows:
      chocolatey:
        depends: [<span class="p">&lt;</span>chocolatey dependencies which aren&#39;t specified in the package.xml<span class="p">&gt;</span>]
        packages: [<span class="p">&lt;</span>chocolatey-name<span class="p">&gt;</span>]
</code></pre></div></p>
<ul>
<li>Update rosdeps on your computer.
<div class="highlight"><pre><span></span><code>rosdep update
rosdep install --from-paths src --ignore-src -r -y
</code></pre></div></li>
</ul>
<blockquote>
<p>You may encounder a warning about missing packages. On Windows some packages were collapsed into their metapackage hosting package due to differences in dependency behavior on Windows.</p>
</blockquote>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="AzureSetupCI.html" title="Continuous Integration" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Continuous Integration
              </div>
            </div>
          </a>
        
        
          <a href="AzureSetupCS_Windows.html" title="Continuous Simulation (Windows)" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Continuous Simulation (Windows)
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="../assets/javascripts/bundle.aa3f9871.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>