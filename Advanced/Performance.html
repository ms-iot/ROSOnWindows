
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>Optimizing Performance - ROS on Windows</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#performance" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

  

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../index.html" title="ROS on Windows" class="md-header-nav__button md-logo" aria-label="ROS on Windows">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            ROS on Windows
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Optimizing Performance
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ms-iot/rosonwindows/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="ROS on Windows" class="md-nav__button md-logo" aria-label="ROS on Windows">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ROS on Windows
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ms-iot/rosonwindows/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../WhatsNew.html" class="md-nav__link">
        What's New
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Build/status.html" class="md-nav__link">
        Build Status
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
      
      <label class="md-nav__link" for="nav-4">
        Get ROS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Get ROS" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          Get ROS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/Setup.html" class="md-nav__link">
        ROS 1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/SetupRos2.html" class="md-nav__link">
        ROS 2
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
      
      <label class="md-nav__link" for="nav-5">
        Using ROS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Using ROS" data-md-level="1">
        <label class="md-nav__title" for="nav-5">
          <span class="md-nav__icon md-icon"></span>
          Using ROS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/NewToROS.html" class="md-nav__link">
        For new ROS Users
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
      
      <label class="md-nav__link" for="nav-6">
        Getting Started with ROS 1
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting Started with ROS 1" data-md-level="1">
        <label class="md-nav__title" for="nav-6">
          <span class="md-nav__icon md-icon"></span>
          Getting Started with ROS 1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="http://wiki.ros.org/ROS/Tutorials" class="md-nav__link">
        Tutorials at ROS Wiki ðŸ”—
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Moveit/moveit_tutorials.html" class="md-nav__link">
        MoveIt
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Moveit/UR3.html" class="md-nav__link">
        Universal Robot UR3
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Turtlebot/Turtlebot3.html" class="md-nav__link">
        TurtleBot3
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/sick_s300/getting_started.html" class="md-nav__link">
        SICK S300
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/ethercat/soem.html" class="md-nav__link">
        Simple Open EtherCAT Master
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/peak/peak.html" class="md-nav__link">
        PEAK-System&reg; PCAN&reg;-Basic
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
      
      <label class="md-nav__link" for="nav-7">
        Getting Started with ROS 2
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting Started with ROS 2" data-md-level="1">
        <label class="md-nav__title" for="nav-7">
          <span class="md-nav__icon md-icon"></span>
          Getting Started with ROS 2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ros2/nav2.html" class="md-nav__link">
        Navigation 2
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
      
      <label class="md-nav__link" for="nav-8">
        Using Github Actions
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Using Github Actions" data-md-level="1">
        <label class="md-nav__title" for="nav-8">
          <span class="md-nav__icon md-icon"></span>
          Using Github Actions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/GithubSetupCI.html" class="md-nav__link">
        Continuous Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/GithubSetupCD.html" class="md-nav__link">
        Continuous Delivery
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/GithubSetupCS_Windows.html" class="md-nav__link">
        Continuous Simulation (Windows)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/GithubSetupCS_Linux.html" class="md-nav__link">
        Continuous Simulation (Linux)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/GithubSetupCS_Windows_Nav2.html" class="md-nav__link">
        Continuous Simulation for Navigation2 System Tests
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" >
      
      <label class="md-nav__link" for="nav-9">
        Using Azure Pipelines
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Using Azure Pipelines" data-md-level="1">
        <label class="md-nav__title" for="nav-9">
          <span class="md-nav__icon md-icon"></span>
          Using Azure Pipelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/AzureSetupCI.html" class="md-nav__link">
        Continuous Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/AzureSetupCD.html" class="md-nav__link">
        Continuous Delivery
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/AzureSetupCS_Windows.html" class="md-nav__link">
        Continuous Simulation (Windows)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/AzureSetupCS_Linux.html" class="md-nav__link">
        Continuous Simulation (Linux)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ros2/system_tests.html" class="md-nav__link">
        Continuous Simulation for Navigation2 System Tests
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" >
      
      <label class="md-nav__link" for="nav-10">
        Porting Guide
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Porting Guide" data-md-level="1">
        <label class="md-nav__title" for="nav-10">
          <span class="md-nav__icon md-icon"></span>
          Porting Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/UsingROSonWindows.html" class="md-nav__link">
        Consuming a ROS Package
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/PortingANode.html" class="md-nav__link">
        Porting a ROS Package
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/UsingVCPKG.html" class="md-nav__link">
        Using a C++ Dependency
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/AddingVCPKG.html" class="md-nav__link">
        Porting a C++ Dependency
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Porting/Cookbook.html" class="md-nav__link">
        Porting Cookbook
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" >
      
      <label class="md-nav__link" for="nav-11">
        ROS at Microsoft
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="ROS at Microsoft" data-md-level="1">
        <label class="md-nav__title" for="nav-11">
          <span class="md-nav__icon md-icon"></span>
          ROS at Microsoft
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ROSAtMS/AzureVM.html" class="md-nav__link">
        Azure VM with ROS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ROSAtMS/WinML.html" class="md-nav__link">
        Windows ML ROS Node
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/microsoft/azure_kinect_ros_driver" class="md-nav__link">
        Azure Kinect ROS Node ðŸ”—
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/microsoft/ros_azure_iothub" class="md-nav__link">
        Azure IoT Hub Node ðŸ”—
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://aka.ms/ros/vscode" class="md-nav__link">
        Visual Studio Code ROS Extension ðŸ”—
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12" checked>
      
      <label class="md-nav__link" for="nav-12">
        Advanced
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Advanced" data-md-level="1">
        <label class="md-nav__title" for="nav-12">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Build/source.html" class="md-nav__link">
        Source Installation
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Optimizing Performance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="Performance.html" class="md-nav__link md-nav__link--active">
        Optimizing Performance
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#windows-10-iot-enterprise-ltsc" class="md-nav__link">
    Windows 10 IoT Enterprise LTSC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fair-process-scheduling" class="md-nav__link">
    Fair Process Scheduling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#per-process-priority" class="md-nav__link">
    Per process priority
  </a>
  
    <nav class="md-nav" aria-label="Per process priority">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#priority-class-api" class="md-nav__link">
    Priority Class API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-line" class="md-nav__link">
    Command Line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrating-cross-platform-prioritization-directly-into-roslaunch-files" class="md-nav__link">
    Integrating cross platform prioritization directly into ROSLaunch files.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disabling-services" class="md-nav__link">
    Disabling Services
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-resolution-time" class="md-nav__link">
    High Resolution Time
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/ms-iot/msix_ros" class="md-nav__link">
        ROS on MSIX Packaging ðŸ”—
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13" >
      
      <label class="md-nav__link" for="nav-13">
        Support
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Support" data-md-level="1">
        <label class="md-nav__title" for="nav-13">
          <span class="md-nav__icon md-icon"></span>
          Support
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/Troubleshooting.html" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/ms-iot/rosonwindows/issues" class="md-nav__link">
        Create Issue
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://aka.ms/ros/support" class="md-nav__link">
        Paid Support
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#windows-10-iot-enterprise-ltsc" class="md-nav__link">
    Windows 10 IoT Enterprise LTSC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fair-process-scheduling" class="md-nav__link">
    Fair Process Scheduling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#per-process-priority" class="md-nav__link">
    Per process priority
  </a>
  
    <nav class="md-nav" aria-label="Per process priority">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#priority-class-api" class="md-nav__link">
    Priority Class API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-line" class="md-nav__link">
    Command Line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrating-cross-platform-prioritization-directly-into-roslaunch-files" class="md-nav__link">
    Integrating cross platform prioritization directly into ROSLaunch files.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disabling-services" class="md-nav__link">
    Disabling Services
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-resolution-time" class="md-nav__link">
    High Resolution Time
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ms-iot/rosonwindows/edit/master/docs/Advanced/Performance.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="performance">Performance</h1>
<p>This page covers guidelines for optimizing on Robot performance on Windows.</p>
<h2 id="windows-10-iot-enterprise-ltsc">Windows 10 IoT Enterprise LTSC</h2>
<p>Windows 10 IoT Enterprise is version of Windows intended for embedded applications. <em>IoT</em> isn't just about Lightbulbs and Thermostats (Windows 10 IoT Core is good for that), it's about network connected devices - including Robots. Windows 10 IoT Enterprise is a full desktop version of Windows, with a license to use on dedicated purpose devices. </p>
<p>Windows 10 IoT Enterprise offers a Long Term Support Channel (also called LTSC), which allows you to lock a version with 10 years of support for a fixed up front cost. The LTSC version of Windows 10 IoT Enterprise offers an overall smaller on-disk and runtime footprint.</p>
<p>You can <a href="https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise">try an evaluation of Windows 10 IoT Enterprise</a>, then talk to a <a href="https://go.microsoft.com/fwlink/?linkid=2094697">Windows 10 IoT Enterprise distributor to commercialize</a>.</p>
<h2 id="fair-process-scheduling">Fair Process Scheduling</h2>
<p>By default, Windows prioritizes foreground applications. This can cause a 'unfair' scheduling of ROS nodes, which can impact throughput in a ROS composition. To make scheduling more fair, consider setting the priority control flag to prioritize background applications (<code>0x18</code>):</p>
<div class="highlight"><pre><span></span><code>reg add HKLM\SYSTEM\CurrentControlSet\Control\PriorityControl /v Win32PrioritySeparation /t REG_DWORD /d 0x18 /f
</code></pre></div>
<h2 id="per-process-priority">Per process priority</h2>
<p>Adjusting the process scheduler can dramatically improve the flow of messages through a ROS composition. However, some ROS nodes might require a higher scheduling priority than others. To address this, there are two models you can use - If you have source access, you can tune the process scheduling using the <code>SetPriorityClass</code> API; otherwise you can use command line tool per process.</p>
<h3 id="priority-class-api">Priority Class API</h3>
<p>Please refer to the documentation on <a href="https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass">SetPriorityClass</a>. This API allows you to adjust the scheduling priority of a process from the ROS sources. </p>
<blockquote>
<p>NOTE: While tempting, it is best to avoid the <code>REALTIME_PRIORITY_CLASS</code> as this setting can be detemental to overall system performance.</p>
</blockquote>
<h3 id="command-line">Command Line</h3>
<p>After you start a rosgraph with <code>roslaunch</code>, you can modify the priority of specific nodes using a PowerShell script.</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nb">get-process</span> <span class="n">ros_winml_node</span><span class="p">).</span><span class="n">PriorityClass</span><span class="p">=</span><span class="s1">&#39;AboveNormal&#39;</span>
</code></pre></div>
<h3 id="integrating-cross-platform-prioritization-directly-into-roslaunch-files">Integrating cross platform prioritization directly into ROSLaunch files.</h3>
<p>Wouldn't that be cool? <a href="https://github.com/ms-iot/ROSOnWindows/issues/194">Upvote if you think so.</a></p>
<h2 id="disabling-services">Disabling Services</h2>
<p>Using Windows 10 Desktop or Windows 10 IoT Enterprise comes with many services which are useful for general computing and enterprise scenarios. </p>
<p>For Robotics, many services are not required. All services consume resources, so disabling unnessesary services would improve performance. During deployment, you should evaluate shich services are required by your scenario on a case by case basis. </p>
<p>Please refer to this documentation for <a href="https://docs.microsoft.com/en-us/windows-server/security/windows-services/security-guidelines-for-disabling-system-services-in-windows-server">disabling Windows Services</a> (guidance is applicable to Windows 10 IoT).</p>
<h2 id="high-resolution-time">High Resolution Time</h2>
<p>Windows Provides APIs for time using <code>QueryPerformanceFrequency</code> and <code>QueryPerformanceCounter</code> which returns the raw timer values. ROS time uses these APIs internally; however, you can use these high resolution timing outside of the ROS APIs.</p>
<p>for more information, please refer to the <a href="https://docs.microsoft.com/en-us/windows/win32/sysinfo/acquiring-high-resolution-time-stamps">High Resolution timestamp documentation</a>.</p>
<div class="highlight"><pre><span></span><code><span class="n">LARGE_INTEGER</span> <span class="n">StartingTime</span><span class="p">,</span> <span class="n">EndingTime</span><span class="p">,</span> <span class="n">ElapsedMicroseconds</span><span class="p">;</span>
<span class="n">LARGE_INTEGER</span> <span class="n">Frequency</span><span class="p">;</span>

<span class="n">QueryPerformanceFrequency</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Frequency</span><span class="p">);</span> 
<span class="n">QueryPerformanceCounter</span><span class="p">(</span><span class="o">&amp;</span><span class="n">StartingTime</span><span class="p">);</span>

<span class="c1">// Activity to be timed</span>

<span class="n">QueryPerformanceCounter</span><span class="p">(</span><span class="o">&amp;</span><span class="n">EndingTime</span><span class="p">);</span>
<span class="n">ElapsedMicroseconds</span><span class="p">.</span><span class="n">QuadPart</span> <span class="o">=</span> <span class="n">EndingTime</span><span class="p">.</span><span class="n">QuadPart</span> <span class="o">-</span> <span class="n">StartingTime</span><span class="p">.</span><span class="n">QuadPart</span><span class="p">;</span>


<span class="c1">//</span>
<span class="c1">// We now have the elapsed number of ticks, along with the</span>
<span class="c1">// number of ticks-per-second. We use these values</span>
<span class="c1">// to convert to the number of elapsed microseconds.</span>
<span class="c1">// To guard against loss-of-precision, we convert</span>
<span class="c1">// to microseconds *before* dividing by ticks-per-second.</span>
<span class="c1">//</span>

<span class="n">ElapsedMicroseconds</span><span class="p">.</span><span class="n">QuadPart</span> <span class="o">*=</span> <span class="mi">1000000</span><span class="p">;</span>
<span class="n">ElapsedMicroseconds</span><span class="p">.</span><span class="n">QuadPart</span> <span class="o">/=</span> <span class="n">Frequency</span><span class="p">.</span><span class="n">QuadPart</span><span class="p">;</span>
</code></pre></div>
<p>Additionally, STL has been enlightened with QueryPerformanceCounter. For more information, please visit the <a href="https://docs.microsoft.com/en-us/cpp/standard-library/chrono?view=vs-2019"><code>&lt;chrono&gt;</code> docs</a> for <code>steady_clock</code>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../Build/source.html" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Source Installation
              </div>
            </div>
          </a>
        
        
          <a href="../GettingStarted/Troubleshooting.html" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Troubleshooting
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>